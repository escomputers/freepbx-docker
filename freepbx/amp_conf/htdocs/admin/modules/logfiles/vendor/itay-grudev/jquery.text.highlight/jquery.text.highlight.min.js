/*!
 * jquery.text.highlight v1.0.0
 * Copyright 2016 Itay Grudev
 * Licensed under the MIT license
 */
 (function(h,k){h.fn.textHighlight=function(g,f){function l(a,b){if(b.nodeType==Node.TEXT_NODE){var e=null,d;if(a instanceof RegExp){if(a.ignoreCase==f.caseSensitive){var c=f.caseSensitive?"":"i",c=a.flags.replace("i","")+c;a=new RegExp(a.source,c)}c=a.exec(b.data);null!==c&&(e=c.index,d=c[0].length)}else if("string"==typeof a){if(0==a.length)return 0;e=f.caseSensitive?b.data.indexOf(a):b.data.toUpperCase().indexOf(a.toUpperCase());d=a.length}if(null!==e&&-1!==e)return c=document.createElement(f.element),
 c.className=f["class"],h(c).attr("data-text-highlight",""),e=b.splitText(e),e.splitText(d),d=e.cloneNode(!0),c.appendChild(d),e.parentNode.replaceChild(c,e),1}else if(b.nodeType==Node.ELEMENT_NODE&&b.childNodes&&!/(script|style)/i.test(b.tagName)&&!b.hasAttribute("data-text-highlight")){if(f.ignore!==k&&h(b).is(f.ignore))return 0;for(d=0;d<b.childNodes.length;++d)d+=l(a,b.childNodes[d])}return 0}f=h.extend({},{element:"mark","class":"",caseSensitive:!1,ignore:k},f);return this.each(function(){if(g instanceof
 RegExp||"string"==typeof g)l(g,this);else if("object"==typeof g&&g.length!==k)for(var a=0;a<g.length;++a)l(g[a],this)})};h.fn.removeHighlight=function(){return this.each(function(){h(this).find("[data-text-highlight]").each(function(){this.parentNode.replaceChild(this.firstChild,this)});this.normalize()})}})(jQuery);
